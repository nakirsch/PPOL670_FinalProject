---
title: "Final Project"
author: "Lucas Fox, Nathalie Kirsch, Vanaaisha Pamnani, and Cuong Pham Vu"
date: "4/18/2022"
output: html_document
urlcolor: blue
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message = FALSE)
knitr::opts_chunk$set(warning = FALSE)
```

```{r include = FALSE}
def.chunk.hook  <- knitr::knit_hooks$get("chunk")
knitr::knit_hooks$set(chunk = function(x, options) {
  x <- def.chunk.hook(x, options)
  ifelse(options$size != "normalsize", paste0("\n \\", options$size,"\n\n", x, "\n\n \\normalsize"), x)
})
```

### PPOL 670 | Final Project

This assignment is stored on the following [Github repository](https://github.com/nakirsch/PPOL670_FinalProject). 

```{r}
library(tidyverse)
library(tidymodels)
library(ggplot2)
library(patchwork)
library(httr)
library(jsonlite)

theme_set(theme_minimal())
```



```{r}
library(tidyverse)
library(sf)
library(janitor)

crime_data22 <- st_read("data/Crime_Incidents_in_2022.geojson") %>%
  clean_names()

crime_data21 <- st_read("data/Crime_Incidents_in_2021.geojson") %>%
  clean_names()

crime_data20 <- st_read("data/Crime_Incidents_in_2020.geojson") %>%
  clean_names()

crime_data19 <- st_read("data/Crime_Incidents_in_2019.geojson") %>%
  clean_names()

crime_data18 <- st_read("data/Crime_Incidents_in_2018.geojson") %>%
  clean_names()

crime_data17 <- st_read("data/Crime_Incidents_in_2017.geojson") %>%
  clean_names()

crime_data16 <- st_read("data/Crime_Incidents_in_2016.geojson") %>%
  clean_names()

crime_data15 <- st_read("data/Crime_Incidents_in_2015.geojson") %>%
  clean_names()

crime_data14 <- st_read("data/Crime_Incidents_in_2014.geojson") %>%
  clean_names()

crime_data13 <- st_read("data/Crime_Incidents_in_2013.geojson") %>%
  clean_names()

crime_data12 <- st_read("data/Crime_Incidents_in_2012.geojson") %>%
  clean_names()

crime_data11 <- st_read("data/Crime_Incidents_in_2011.geojson") %>%
  clean_names()

crime_data10 <- st_read("data/Crime_Incidents_in_2010.geojson") %>%
  clean_names()




crime_data_2010s <- rbind(crime_data19, crime_data18)
crime_data_2010s <- rbind(crime_data_2010s, crime_data17)
crime_data_2010s <- rbind(crime_data_2010s, crime_data16)
crime_data_2010s <- rbind(crime_data_2010s, crime_data15)
crime_data_2010s <- rbind(crime_data_2010s, crime_data14)
crime_data_2010s <- rbind(crime_data_2010s, crime_data13)
crime_data_2010s <- rbind(crime_data_2010s, crime_data12)
crime_data_2010s <- rbind(crime_data_2010s, crime_data11)
crime_data_2010s <- rbind(crime_data_2010s, crime_data10)




```


``` {r}

url <- "https://api.census.gov/data/2019/acs/acs5?get=NAME,B01003_001E&for=tract:*&in=county:*&in=state:11"

dc_json <- GET(url = url)

http_status(dc_json)

# get the contents of the response as a text string
dc_json <- content(dc_json, as = "text")
# create a character matrix from the JSON

dc_matrix <- fromJSON(dc_json)

# turn the body of the character matrix into a tibble
dc_data <- as_tibble(dc_matrix[2:nrow(dc_matrix), ],
                      .name_repair = "minimal")
# add variable names to the tibble
names(dc_data) <- dc_matrix[1, ]

dc_data

```